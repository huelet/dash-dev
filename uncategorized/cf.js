const fs = require('fs');
const titleIndex = process.argv.indexOf('--title');
const authorIndex = process.argv.indexOf('--author');
const urlArg = process.argv.indexOf('--url');
const title = process.argv[titleIndex + 1];
const author = process.argv[authorIndex + 1];
const url = process.argv[urlArg + 1];
const randomString = (length=16)=>Math.random().toString(20).substr(2, length)
const vid = randomString();
console.log(vid);
console.log(`${url}\n${author}\n${title}`)
const fileData = `<!DOCTYPE html><html lang='en'><head><meta charset='UTF-8' /><meta name='viewport' content='width=device-width, initial-scale=1.0' /><title>${title} By ${author}</title><script>window.HELP_IMPROVE_VIDEOJS = false\;</script><?php include_once 'stl.php'?><link href='https://vjs.zencdn.net/7.10.2/video-js.css' rel='stylesheet' />    <link      href='https://cdn.huelet.net/assets/picu.css'      rel='stylesheet'    />    <link      href='https://unpkg.com/@silvermine/videojs-quality-selector/dist/css/quality-selector.css'      rel='stylesheet'    />    <link      href='https://cdn.huelet.net/assets/content.css'      rel='stylesheet'    />    <link      href='https://cdn.huelet.net/assets/nav.css'      rel='stylesheet'    />    <link      href='https://cdn.huelet.net/assets/hamburger.css'      rel='stylesheet'    />    <link      href='https://huelet.net/css/font.css'      rel='stylesheet'    />    <script src='https://vjs.zencdn.net/7.10.2/video.min.js'></script>    <script src='https://vjs.zencdn.net/7.10.2/video.min.js'></script>    <script src='https://unpkg.com/@silvermine/videojs-quality-selector/dist/js/silvermine-videojs-quality-selector.min.js'></script>    <script src='https://cdn.jsdelivr.net/npm/@clappr/player@latest/dist/clappr.min.js'></script>    <script src='https://cdn.huelet.net/assets/share.js'></script>    <script>      const player = new Clappr.Player({source: '${url}', height: 430, width: 800, parentId: '#player'});    </script>  <\?php  include_once 'scripts.php'  \?>  </head>  <body>  <article>  <div class='bk-rb-hl-main-i305'>  <\?php  include_once 'header.php'  \?>  <br />    <div class='mdx-flask'>      <div id='mdx-player'>        <div id='player'></div>      </div>    </div>    <br>    <div class='flex-parent'>    <clap-button></clap-button>    <div class='ms-Icon ms-Icon--Share openUp' id='shareButton' style='cursor:pointer;' aria-hidden='true'></div>    <div class='ms-Icon ms-Icon--Link lnk' id='lnk' style='cursor:pointer;' onclick='copyFn()' aria-hidden='true'></div>    </div>    <hr />    <h2 class='rb-h2-1 ms-fontSize-28' id='rb-c2'>${title}</h2>    <h4 class='rb-h4-1 ms-fontSize-18'>By ${author}</h4>    <hr />    <h4 class='rb-h4-2 ms-fontSize-14'>      This video contains the following material that some may consider      questionable:    </h4>    <ul class='ms-fontSize-14'>      <li>This video contains no questionable content.</li>    </ul>    <hr />    <div id='comments'></div>    <ins class='adsbycontextcue' data-cc-site='654ba83a-3099-4c66-a66b-e9831359607b' data-cc-slot='HjLQ0V5Dd' style='width:728px;height:90px;'></ins>    </div>    </article>    <aside>      <div class='browse-container'>        <div class='browse'>          <div class='video-ad'>            <ins class='adsbycontextcue' data-cc-site='654ba83a-3099-4c66-a66b-e9831359607b' data-cc-slot='HjLQ0V5Dd' style='width:300px;height:250px;'></ins>          </div>          <div class='video-browse-container'>            <div id='browse'>            </div>          </div>        </div>      </div>    </aside>  </body></html>`;
fs.appendFile(`/usr/local/lsws/Example/html/w/${vid}.php`, fileData, function (err) {
    if (err) throw err;
    console.log('Saved!');
  });